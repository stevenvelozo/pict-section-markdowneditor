<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Book Viewer - Pict Example</title>
		<!-- KaTeX CSS and JS for math equation rendering -->
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.css">
		<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.js"></script>
		<!-- Mermaid JS for diagram rendering -->
		<script src="https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.min.js"></script>
		<script>mermaid.initialize({ startOnLoad: false, theme: 'default' });</script>
		<!-- PICT Dynamic View CSS Container -->
		<style id="PICT-CSS"></style>
		<style>
			*, *::before, *::after { box-sizing: border-box; }
			body { margin: 0; padding: 0; font-family: 'Georgia', 'Times New Roman', serif; background: #FAF8F4; color: #333; }

			/* --- Header Bar --- */
			.pict-example-header { display: flex; align-items: stretch; background: #264653; border-bottom: 3px solid #E76F51; }
			.pict-example-badge { background: #E76F51; color: #fff; padding: 0.6rem 1rem; font-size: 0.7rem; font-weight: 800; text-transform: uppercase; letter-spacing: 0.1em; display: flex; align-items: center; gap: 0.5rem; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }
			.pict-example-badge svg { width: 14px; height: 14px; fill: #fff; flex-shrink: 0; }
			.pict-example-app-name { padding: 0.6rem 1rem; color: #FAEDCD; font-size: 1.1rem; font-weight: 600; display: flex; align-items: center; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }
			.pict-example-module { margin-left: auto; padding: 0.6rem 1rem; color: #D4A373; font-size: 0.75rem; display: flex; align-items: center; letter-spacing: 0.03em; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }

			/* --- Book Container --- */
			#BookViewerContainer { max-width: 820px; margin: 0 auto; padding: 2rem 1.5rem; }

			/* --- Section Wrapper --- */
			.book-section { position: relative; margin-bottom: 0; border-bottom: 1px solid #EAE3D8; }
			.book-section:last-child { border-bottom: none; }

			/* --- Edit / Done Toolbar --- */
			.book-section-toolbar { position: absolute; top: 12px; right: 0; z-index: 10; opacity: 0; transition: opacity 0.2s ease; }
			.book-section:hover .book-section-toolbar { opacity: 1; }
			.book-section-editing .book-section-toolbar { opacity: 1; }

			.book-section-edit-btn,
			.book-section-done-btn {
				border: 1px solid #D0C8BB;
				border-radius: 4px;
				padding: 4px 12px;
				font-size: 0.75rem;
				font-weight: 600;
				cursor: pointer;
				font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
				transition: all 0.15s ease;
			}
			.book-section-edit-btn {
				background: #fff;
				color: #888;
			}
			.book-section-edit-btn:hover {
				background: #F0ECE4;
				color: #555;
				border-color: #B0A898;
			}
			.book-section-done-btn {
				background: #2A9D8F;
				color: #fff;
				border-color: #2A9D8F;
			}
			.book-section-done-btn:hover {
				background: #238A7E;
			}

			/* --- Section Content --- */
			.book-section-content { padding: 1em 0; }

			/* --- Editing State --- */
			.book-section-editing {
				background: #FFFEF8;
				border: 1px solid #D4A373;
				border-radius: 6px;
				padding: 0 1rem 1rem 1rem;
				margin: 1rem -1rem;
				box-shadow: 0 2px 12px rgba(0,0,0,0.06);
			}
			.book-section-editing .book-section-toolbar {
				position: relative;
				top: auto;
				right: auto;
				text-align: right;
				padding: 8px 0;
			}
			.book-section-editor-container { min-height: 120px; }
		</style>
		<script src="./codemirror-bundle.js" type="text/javascript"></script>
		<script src="./pict.min.js" type="text/javascript"></script>
		<script type="text/javascript">
			Pict.safeOnDocumentReady(() => { Pict.safeLoadPictApplication(BookViewerExample, 1); });
		</script>
	</head>
	<body>
		<div class="pict-example-header">
			<div class="pict-example-badge">
				<svg viewBox="0 0 16 16"><polygon points="8,1 10,6 16,6 11,9.5 13,15 8,11.5 3,15 5,9.5 0,6 6,6"/></svg>
				Pict Example
			</div>
			<div class="pict-example-app-name">Book Viewer</div>
			<div class="pict-example-module">pict-section-content + pict-section-markdowneditor</div>
		</div>
		<div id="BookViewerContainer"></div>
		<script src="./book_viewer_example.min.js" type="text/javascript"></script>
	</body>
</html>
